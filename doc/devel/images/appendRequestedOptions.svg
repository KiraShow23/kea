<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="797px" preserveAspectRatio="none" style="width:455px;height:797px;" version="1.1" viewBox="0 0 455 797" width="455px" zoomAndPan="magnify"><defs><filter height="300%" id="f1l26zdacjfr8m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="431" x="12" y="27.4023">Append requested options algorithm (Kea 1.7.11)</text><rect fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="141.5" y="32.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="151.5" y="53.8008">get configured option list</text><rect fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="87" y="86.332"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="252" x="97" y="107.9336">get parameter request list (PRL) from query</text><rect fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="242" x="102" y="184.4648"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="222" x="112" y="206.0664">get configured options in dhcp4 space</text><rect fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="127" y="282.5977"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="137" y="304.1992">push back option code to PRL</text><polygon fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" points="153.5,238.5977,292.5,238.5977,304.5,250.5977,292.5,262.5977,153.5,262.5977,141.5,250.5977,153.5,238.5977" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="153.5" y="254.7549">for each persistent option</text><polygon fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" points="114,140.4648,332,140.4648,344,152.4648,332,164.4648,114,164.4648,102,152.4648,114,140.4648" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="114" y="156.6221">for each item from configured option list</text><rect fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="242" x="102" y="517.208"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="222" x="112" y="538.8096">get configured options in dhcp4 space</text><rect fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="145.5" y="619.8184"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="135" x="155.5" y="641.4199">add option to response</text><polygon fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" points="207,571.3408,239,571.3408,251,583.3408,239,595.3408,207,595.3408,195,583.3408,207,571.3408" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="227" y="605.9756">first</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="207" y="587.498">found</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="251" y="581.0205">not found or already found</text><polygon fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" points="223,673.9512,235,685.9512,223,697.9512,211,685.9512,223,673.9512" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" points="114,473.208,332,473.208,344,485.208,332,497.208,114,497.208,102,485.208,114,473.208" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="114" y="489.3652">for each item from configured option list</text><polygon fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" points="146.5,424.7305,299.5,424.7305,311.5,436.7305,299.5,448.7305,146.5,448.7305,134.5,436.7305,146.5,424.7305" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="227" y="459.3652">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="146.5" y="440.8877">option is not set in response</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="311.5" y="434.4102">no</text><polygon fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" points="223,739.9512,235,751.9512,223,763.9512,211,751.9512,223,739.9512" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1l26zdacjfr8m)" points="169,380.7305,277,380.7305,289,392.7305,277,404.7305,169,404.7305,157,392.7305,169,380.7305" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="169" y="396.8877">for each code in PRL</text><ellipse cx="65" cy="435.7305" fill="#FFFFFF" filter="url(#f1l26zdacjfr8m)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="65" cy="435.7305" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="66.332" y2="86.332"/><polygon fill="#A80036" points="219,76.332,223,86.332,227,76.332,223,80.332" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="262.5977" y2="282.5977"/><polygon fill="#A80036" points="219,272.5977,223,282.5977,227,272.5977,223,276.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="316.7305" y2="326.7305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="331" y1="326.7305" y2="326.7305"/><polygon fill="#A80036" points="327,297.6641,331,287.6641,335,297.6641,331,293.6641" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="331" x2="331" y1="250.5977" y2="326.7305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="331" x2="304.5" y1="250.5977" y2="250.5977"/><polygon fill="#A80036" points="314.5,246.5977,304.5,250.5977,314.5,254.5977,310.5,250.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="141.5" x2="115" y1="250.5977" y2="250.5977"/><polygon fill="#A80036" points="111,283.6641,115,293.6641,119,283.6641,115,287.6641" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="115" x2="115" y1="250.5977" y2="338.7305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="115" x2="356" y1="338.7305" y2="338.7305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="356" x2="356" y1="152.4648" y2="338.7305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="356" x2="344" y1="152.4648" y2="152.4648"/><polygon fill="#A80036" points="354,148.4648,344,152.4648,354,156.4648,350,152.4648" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="218.5977" y2="238.5977"/><polygon fill="#A80036" points="219,228.5977,223,238.5977,227,228.5977,223,232.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="164.4648" y2="184.4648"/><polygon fill="#A80036" points="219,174.4648,223,184.4648,227,174.4648,223,178.4648" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="102" x2="90" y1="152.4648" y2="152.4648"/><polygon fill="#A80036" points="86,241.0977,90,251.0977,94,241.0977,90,245.0977" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="90" x2="90" y1="152.4648" y2="360.7305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="90" x2="223" y1="360.7305" y2="360.7305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="360.7305" y2="380.7305"/><polygon fill="#A80036" points="219,370.7305,223,380.7305,227,370.7305,223,374.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="120.4648" y2="140.4648"/><polygon fill="#A80036" points="219,130.4648,223,140.4648,227,130.4648,223,134.4648" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="595.3408" y2="619.8184"/><polygon fill="#A80036" points="219,609.8184,223,619.8184,227,609.8184,223,613.8184" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="251" x2="310.5" y1="583.3408" y2="583.3408"/><polygon fill="#A80036" points="306.5,626.8848,310.5,636.8848,314.5,626.8848,310.5,630.8848" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310.5" x2="310.5" y1="583.3408" y2="685.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310.5" x2="235" y1="685.9512" y2="685.9512"/><polygon fill="#A80036" points="245,681.9512,235,685.9512,245,689.9512,241,685.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="653.9512" y2="673.9512"/><polygon fill="#A80036" points="219,663.9512,223,673.9512,227,663.9512,223,667.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="551.3408" y2="571.3408"/><polygon fill="#A80036" points="219,561.3408,223,571.3408,227,561.3408,223,565.3408" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="497.208" y2="517.208"/><polygon fill="#A80036" points="219,507.208,223,517.208,227,507.208,223,511.208" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="697.9512" y2="707.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="356" y1="707.9512" y2="707.9512"/><polygon fill="#A80036" points="352,600.3184,356,590.3184,360,600.3184,356,596.3184" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="356" x2="356" y1="485.208" y2="707.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="356" x2="344" y1="485.208" y2="485.208"/><polygon fill="#A80036" points="354,481.208,344,485.208,354,489.208,350,485.208" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="102" x2="90" y1="485.208" y2="485.208"/><polygon fill="#A80036" points="86,586.3184,90,596.3184,94,586.3184,90,590.3184" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="90" x2="90" y1="485.208" y2="719.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="90" x2="223" y1="719.9512" y2="719.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="719.9512" y2="739.9512"/><polygon fill="#A80036" points="219,729.9512,223,739.9512,227,729.9512,223,733.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="448.7305" y2="473.208"/><polygon fill="#A80036" points="219,463.208,223,473.208,227,463.208,223,467.208" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="311.5" x2="366" y1="436.7305" y2="436.7305"/><polygon fill="#A80036" points="362,580.3184,366,590.3184,370,580.3184,366,584.3184" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="366" x2="366" y1="436.7305" y2="751.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="366" x2="235" y1="751.9512" y2="751.9512"/><polygon fill="#A80036" points="245,747.9512,235,751.9512,245,755.9512,241,751.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="404.7305" y2="424.7305"/><polygon fill="#A80036" points="219,414.7305,223,424.7305,227,414.7305,223,418.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="223" y1="763.9512" y2="773.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="390" y1="773.9512" y2="773.9512"/><polygon fill="#A80036" points="386,588.3184,390,578.3184,394,588.3184,390,584.3184" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="390" x2="390" y1="392.7305" y2="773.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="390" x2="289" y1="392.7305" y2="392.7305"/><polygon fill="#A80036" points="299,388.7305,289,392.7305,299,396.7305,295,392.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="157" x2="65" y1="392.7305" y2="392.7305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="65" x2="65" y1="392.7305" y2="424.7305"/><polygon fill="#A80036" points="61,414.7305,65,424.7305,69,414.7305,65,418.7305" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9411ea9e2f1691298864a3c1d7c2fe9c]
@startuml

Title Append requested options algorithm (Kea 1.7.11)

:get configured option list;

:get parameter request list (PRL) from query;

while (for each item from configured option list)
  :get configured options in dhcp4 space;
  while (for each persistent option)
    :push back option code to PRL;
  endwhile
endwhile

while (for each code in PRL)
  if (option is not set in response) then (yes)
    while (for each item from configured option list)
      :get configured options in dhcp4 space;
      if (found) then (first)
        :add option to response;
      else (not found or already found)
      endif
    endwhile
  else (no)
  endif
endwhile
->done;
stop

@enduml

PlantUML version 1.2020.15(Sun Jun 28 13:39:45 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>